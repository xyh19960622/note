{"id":"kfHT","dependencies":[{"name":"/home/fippo/webrtc/adapter/package.json","includedInParent":true,"mtime":1544468815021},{"name":"../utils","loc":{"line":11,"column":23},"parent":"/home/fippo/webrtc/adapter/src/js/firefox/getusermedia.js","resolved":"/home/fippo/webrtc/adapter/src/js/utils.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.shimGetUserMedia=r;var e=t(require(\"../utils\"));function t(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,o):{};r.get||r.set?Object.defineProperty(t,o,r):t[o]=e[o]}return t.default=e,t}function o(e){return(o=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function r(t){var r=e.detectBrowser(t),i=t&&t.navigator,n=t&&t.MediaStreamTrack;if(i.getUserMedia=function(t,o,r){e.deprecated(\"navigator.getUserMedia\",\"navigator.mediaDevices.getUserMedia\"),i.mediaDevices.getUserMedia(t).then(o,r)},!(r.version>55&&\"autoGainControl\"in i.mediaDevices.getSupportedConstraints())){var s=function(e,t,o){t in e&&!(o in e)&&(e[o]=e[t],delete e[t])},a=i.mediaDevices.getUserMedia.bind(i.mediaDevices);if(i.mediaDevices.getUserMedia=function(e){return\"object\"===o(e)&&\"object\"===o(e.audio)&&(e=JSON.parse(JSON.stringify(e)),s(e.audio,\"autoGainControl\",\"mozAutoGainControl\"),s(e.audio,\"noiseSuppression\",\"mozNoiseSuppression\")),a(e)},n&&n.prototype.getSettings){var p=n.prototype.getSettings;n.prototype.getSettings=function(){var e=p.apply(this,arguments);return s(e,\"mozAutoGainControl\",\"autoGainControl\"),s(e,\"mozNoiseSuppression\",\"noiseSuppression\"),e}}if(n&&n.prototype.applyConstraints){var u=n.prototype.applyConstraints;n.prototype.applyConstraints=function(e){return\"audio\"===this.kind&&\"object\"===o(e)&&(e=JSON.parse(JSON.stringify(e)),s(e,\"autoGainControl\",\"mozAutoGainControl\"),s(e,\"noiseSuppression\",\"mozNoiseSuppression\")),u.apply(this,[e])}}}}","map":{"mappings":[{"source":"src/js/firefox/getusermedia.js","original":{"line":9,"column":0},"generated":{"line":1,"column":0}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":13}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":20}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":35}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":43}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":56}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":57}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":64}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":68}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":76}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":93}},{"source":"src/js/firefox/getusermedia.js","original":{"line":11,"column":0},"generated":{"line":1,"column":95}},{"source":"src/js/firefox/getusermedia.js","original":{"line":11,"column":0},"generated":{"line":1,"column":99}},{"source":"src/js/firefox/getusermedia.js","original":{"line":11,"column":0},"generated":{"line":1,"column":101}},{"source":"src/js/firefox/getusermedia.js","original":{"line":11,"column":0},"generated":{"line":1,"column":103}},{"source":"src/js/firefox/getusermedia.js","original":{"line":11,"column":0},"generated":{"line":1,"column":111}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":124}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":133}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":135}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":138}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":141}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":144}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":146}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":157}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":164}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":166}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":170}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":172}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":175}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":178}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":184}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":186}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":190}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":194}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":199}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":201}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":204}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":211}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":221}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":236}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":241}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":243}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":246}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":247}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":251}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":253}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":260}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":276}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":283}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":308}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":315}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":340}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":342}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":345}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":348}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":350}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":355}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":357}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":361}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":368}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":383}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":385}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":387}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":390}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":392}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":395}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":397}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":400}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":407}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":409}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":417}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":419}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":421}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":430}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":432}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":435}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":442}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":444}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":463}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":471}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":488}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":495}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":504}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":513}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":516}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":530}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":533}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":542}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":545}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":552}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":555}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":574}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":582}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":584}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":598}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":606}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":610}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":617}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":627}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":643}},{"source":"src/js/firefox/getusermedia.js","original":{"line":68,"column":1},"generated":{"line":1,"column":647}},{"source":"src/js/firefox/getusermedia.js","original":{"line":13,"column":7},"generated":{"line":1,"column":650}},{"source":"src/js/firefox/getusermedia.js","name":"shimGetUserMedia","original":{"line":13,"column":16},"generated":{"line":1,"column":659}},{"source":"src/js/firefox/getusermedia.js","name":"window","original":{"line":13,"column":33},"generated":{"line":1,"column":661}},{"source":"src/js/firefox/getusermedia.js","name":"browserDetails","original":{"line":14,"column":8},"generated":{"line":1,"column":664}},{"source":"src/js/firefox/getusermedia.js","name":"browserDetails","original":{"line":14,"column":8},"generated":{"line":1,"column":668}},{"source":"src/js/firefox/getusermedia.js","name":"utils","original":{"line":14,"column":25},"generated":{"line":1,"column":670}},{"source":"src/js/firefox/getusermedia.js","name":"detectBrowser","original":{"line":14,"column":31},"generated":{"line":1,"column":672}},{"source":"src/js/firefox/getusermedia.js","name":"window","original":{"line":14,"column":45},"generated":{"line":1,"column":686}},{"source":"src/js/firefox/getusermedia.js","name":"navigator","original":{"line":15,"column":8},"generated":{"line":1,"column":689}},{"source":"src/js/firefox/getusermedia.js","name":"window","original":{"line":15,"column":20},"generated":{"line":1,"column":691}},{"source":"src/js/firefox/getusermedia.js","name":"window","original":{"line":15,"column":30},"generated":{"line":1,"column":694}},{"source":"src/js/firefox/getusermedia.js","name":"navigator","original":{"line":15,"column":37},"generated":{"line":1,"column":696}},{"source":"src/js/firefox/getusermedia.js","name":"MediaStreamTrack","original":{"line":16,"column":8},"generated":{"line":1,"column":706}},{"source":"src/js/firefox/getusermedia.js","name":"window","original":{"line":16,"column":27},"generated":{"line":1,"column":708}},{"source":"src/js/firefox/getusermedia.js","name":"window","original":{"line":16,"column":37},"generated":{"line":1,"column":711}},{"source":"src/js/firefox/getusermedia.js","name":"MediaStreamTrack","original":{"line":16,"column":44},"generated":{"line":1,"column":713}},{"source":"src/js/firefox/getusermedia.js","original":{"line":25,"column":6},"generated":{"line":1,"column":730}},{"source":"src/js/firefox/getusermedia.js","name":"navigator","original":{"line":18,"column":2},"generated":{"line":1,"column":733}},{"source":"src/js/firefox/getusermedia.js","name":"getUserMedia","original":{"line":18,"column":12},"generated":{"line":1,"column":735}},{"source":"src/js/firefox/getusermedia.js","original":{"line":18,"column":27},"generated":{"line":1,"column":748}},{"source":"src/js/firefox/getusermedia.js","name":"constraints","original":{"line":18,"column":36},"generated":{"line":1,"column":757}},{"source":"src/js/firefox/getusermedia.js","name":"onSuccess","original":{"line":18,"column":49},"generated":{"line":1,"column":759}},{"source":"src/js/firefox/getusermedia.js","name":"onError","original":{"line":18,"column":60},"generated":{"line":1,"column":761}},{"source":"src/js/firefox/getusermedia.js","name":"utils","original":{"line":20,"column":4},"generated":{"line":1,"column":764}},{"source":"src/js/firefox/getusermedia.js","name":"deprecated","original":{"line":20,"column":10},"generated":{"line":1,"column":766}},{"source":"src/js/firefox/getusermedia.js","original":{"line":20,"column":21},"generated":{"line":1,"column":777}},{"source":"src/js/firefox/getusermedia.js","original":{"line":21,"column":8},"generated":{"line":1,"column":802}},{"source":"src/js/firefox/getusermedia.js","name":"navigator","original":{"line":22,"column":4},"generated":{"line":1,"column":841}},{"source":"src/js/firefox/getusermedia.js","name":"mediaDevices","original":{"line":22,"column":14},"generated":{"line":1,"column":843}},{"source":"src/js/firefox/getusermedia.js","name":"getUserMedia","original":{"line":22,"column":27},"generated":{"line":1,"column":856}},{"source":"src/js/firefox/getusermedia.js","name":"constraints","original":{"line":22,"column":40},"generated":{"line":1,"column":869}},{"source":"src/js/firefox/getusermedia.js","name":"then","original":{"line":22,"column":53},"generated":{"line":1,"column":872}},{"source":"src/js/firefox/getusermedia.js","name":"onSuccess","original":{"line":22,"column":58},"generated":{"line":1,"column":877}},{"source":"src/js/firefox/getusermedia.js","name":"onError","original":{"line":22,"column":69},"generated":{"line":1,"column":879}},{"source":"src/js/firefox/getusermedia.js","name":"browserDetails","original":{"line":25,"column":8},"generated":{"line":1,"column":885}},{"source":"src/js/firefox/getusermedia.js","name":"version","original":{"line":25,"column":23},"generated":{"line":1,"column":887}},{"source":"src/js/firefox/getusermedia.js","original":{"line":25,"column":33},"generated":{"line":1,"column":895}},{"source":"src/js/firefox/getusermedia.js","original":{"line":26,"column":6},"generated":{"line":1,"column":899}},{"source":"src/js/firefox/getusermedia.js","name":"navigator","original":{"line":26,"column":27},"generated":{"line":1,"column":919}},{"source":"src/js/firefox/getusermedia.js","name":"mediaDevices","original":{"line":26,"column":37},"generated":{"line":1,"column":921}},{"source":"src/js/firefox/getusermedia.js","name":"getSupportedConstraints","original":{"line":26,"column":50},"generated":{"line":1,"column":934}},{"source":"src/js/firefox/getusermedia.js","original":{"line":26,"column":78},"generated":{"line":1,"column":961}},{"source":"src/js/firefox/getusermedia.js","name":"remap","original":{"line":27,"column":10},"generated":{"line":1,"column":962}},{"source":"src/js/firefox/getusermedia.js","name":"remap","original":{"line":27,"column":10},"generated":{"line":1,"column":966}},{"source":"src/js/firefox/getusermedia.js","original":{"line":27,"column":18},"generated":{"line":1,"column":968}},{"source":"src/js/firefox/getusermedia.js","name":"obj","original":{"line":27,"column":27},"generated":{"line":1,"column":977}},{"source":"src/js/firefox/getusermedia.js","name":"a","original":{"line":27,"column":32},"generated":{"line":1,"column":979}},{"source":"src/js/firefox/getusermedia.js","name":"b","original":{"line":27,"column":35},"generated":{"line":1,"column":981}},{"source":"src/js/firefox/getusermedia.js","name":"a","original":{"line":28,"column":10},"generated":{"line":1,"column":984}},{"source":"src/js/firefox/getusermedia.js","name":"obj","original":{"line":28,"column":15},"generated":{"line":1,"column":989}},{"source":"src/js/firefox/getusermedia.js","name":"b","original":{"line":28,"column":24},"generated":{"line":1,"column":994}},{"source":"src/js/firefox/getusermedia.js","name":"obj","original":{"line":28,"column":29},"generated":{"line":1,"column":999}},{"source":"src/js/firefox/getusermedia.js","name":"obj","original":{"line":29,"column":8},"generated":{"line":1,"column":1004}},{"source":"src/js/firefox/getusermedia.js","name":"b","original":{"line":29,"column":12},"generated":{"line":1,"column":1006}},{"source":"src/js/firefox/getusermedia.js","name":"obj","original":{"line":29,"column":17},"generated":{"line":1,"column":1009}},{"source":"src/js/firefox/getusermedia.js","name":"a","original":{"line":29,"column":21},"generated":{"line":1,"column":1011}},{"source":"src/js/firefox/getusermedia.js","name":"obj","original":{"line":30,"column":15},"generated":{"line":1,"column":1021}},{"source":"src/js/firefox/getusermedia.js","name":"a","original":{"line":30,"column":19},"generated":{"line":1,"column":1023}},{"source":"src/js/firefox/getusermedia.js","name":"nativeGetUserMedia","original":{"line":34,"column":10},"generated":{"line":1,"column":1028}},{"source":"src/js/firefox/getusermedia.js","name":"navigator","original":{"line":34,"column":31},"generated":{"line":1,"column":1030}},{"source":"src/js/firefox/getusermedia.js","name":"mediaDevices","original":{"line":34,"column":41},"generated":{"line":1,"column":1032}},{"source":"src/js/firefox/getusermedia.js","name":"getUserMedia","original":{"line":34,"column":54},"generated":{"line":1,"column":1045}},{"source":"src/js/firefox/getusermedia.js","name":"bind","original":{"line":35,"column":8},"generated":{"line":1,"column":1058}},{"source":"src/js/firefox/getusermedia.js","name":"navigator","original":{"line":35,"column":13},"generated":{"line":1,"column":1063}},{"source":"src/js/firefox/getusermedia.js","name":"mediaDevices","original":{"line":35,"column":23},"generated":{"line":1,"column":1065}},{"source":"src/js/firefox/getusermedia.js","name":"MediaStreamTrack","original":{"line":45,"column":8},"generated":{"line":1,"column":1079}},{"source":"src/js/firefox/getusermedia.js","name":"navigator","original":{"line":36,"column":4},"generated":{"line":1,"column":1082}},{"source":"src/js/firefox/getusermedia.js","name":"mediaDevices","original":{"line":36,"column":14},"generated":{"line":1,"column":1084}},{"source":"src/js/firefox/getusermedia.js","name":"getUserMedia","original":{"line":36,"column":27},"generated":{"line":1,"column":1097}},{"source":"src/js/firefox/getusermedia.js","original":{"line":36,"column":42},"generated":{"line":1,"column":1110}},{"source":"src/js/firefox/getusermedia.js","name":"c","original":{"line":36,"column":51},"generated":{"line":1,"column":1119}},{"source":"src/js/firefox/getusermedia.js","name":"nativeGetUserMedia","original":{"line":42,"column":13},"generated":{"line":1,"column":1122}},{"source":"src/js/firefox/getusermedia.js","original":{"line":37,"column":23},"generated":{"line":1,"column":1128}},{"source":"src/js/firefox/getusermedia.js","original":{"line":37,"column":10},"generated":{"line":1,"column":1139}},{"source":"src/js/firefox/getusermedia.js","name":"c","original":{"line":37,"column":17},"generated":{"line":1,"column":1141}},{"source":"src/js/firefox/getusermedia.js","original":{"line":37,"column":54},"generated":{"line":1,"column":1145}},{"source":"src/js/firefox/getusermedia.js","original":{"line":37,"column":35},"generated":{"line":1,"column":1156}},{"source":"src/js/firefox/getusermedia.js","name":"c","original":{"line":37,"column":42},"generated":{"line":1,"column":1158}},{"source":"src/js/firefox/getusermedia.js","name":"audio","original":{"line":37,"column":44},"generated":{"line":1,"column":1160}},{"source":"src/js/firefox/getusermedia.js","name":"c","original":{"line":38,"column":8},"generated":{"line":1,"column":1169}},{"source":"src/js/firefox/getusermedia.js","name":"JSON","original":{"line":38,"column":12},"generated":{"line":1,"column":1171}},{"source":"src/js/firefox/getusermedia.js","name":"parse","original":{"line":38,"column":17},"generated":{"line":1,"column":1176}},{"source":"src/js/firefox/getusermedia.js","name":"JSON","original":{"line":38,"column":23},"generated":{"line":1,"column":1182}},{"source":"src/js/firefox/getusermedia.js","name":"stringify","original":{"line":38,"column":28},"generated":{"line":1,"column":1187}},{"source":"src/js/firefox/getusermedia.js","name":"c","original":{"line":38,"column":38},"generated":{"line":1,"column":1197}},{"source":"src/js/firefox/getusermedia.js","name":"remap","original":{"line":39,"column":8},"generated":{"line":1,"column":1201}},{"source":"src/js/firefox/getusermedia.js","name":"c","original":{"line":39,"column":14},"generated":{"line":1,"column":1203}},{"source":"src/js/firefox/getusermedia.js","name":"audio","original":{"line":39,"column":16},"generated":{"line":1,"column":1205}},{"source":"src/js/firefox/getusermedia.js","original":{"line":39,"column":23},"generated":{"line":1,"column":1211}},{"source":"src/js/firefox/getusermedia.js","original":{"line":39,"column":42},"generated":{"line":1,"column":1229}},{"source":"src/js/firefox/getusermedia.js","name":"remap","original":{"line":40,"column":8},"generated":{"line":1,"column":1251}},{"source":"src/js/firefox/getusermedia.js","name":"c","original":{"line":40,"column":14},"generated":{"line":1,"column":1253}},{"source":"src/js/firefox/getusermedia.js","name":"audio","original":{"line":40,"column":16},"generated":{"line":1,"column":1255}},{"source":"src/js/firefox/getusermedia.js","original":{"line":40,"column":23},"generated":{"line":1,"column":1261}},{"source":"src/js/firefox/getusermedia.js","original":{"line":40,"column":43},"generated":{"line":1,"column":1280}},{"source":"src/js/firefox/getusermedia.js","name":"nativeGetUserMedia","original":{"line":42,"column":13},"generated":{"line":1,"column":1304}},{"source":"src/js/firefox/getusermedia.js","name":"c","original":{"line":42,"column":32},"generated":{"line":1,"column":1306}},{"source":"src/js/firefox/getusermedia.js","name":"MediaStreamTrack","original":{"line":45,"column":8},"generated":{"line":1,"column":1310}},{"source":"src/js/firefox/getusermedia.js","name":"MediaStreamTrack","original":{"line":45,"column":28},"generated":{"line":1,"column":1313}},{"source":"src/js/firefox/getusermedia.js","name":"prototype","original":{"line":45,"column":45},"generated":{"line":1,"column":1315}},{"source":"src/js/firefox/getusermedia.js","name":"getSettings","original":{"line":45,"column":55},"generated":{"line":1,"column":1325}},{"source":"src/js/firefox/getusermedia.js","original":{"line":45,"column":68},"generated":{"line":1,"column":1337}},{"source":"src/js/firefox/getusermedia.js","name":"nativeGetSettings","original":{"line":46,"column":12},"generated":{"line":1,"column":1338}},{"source":"src/js/firefox/getusermedia.js","name":"nativeGetSettings","original":{"line":46,"column":12},"generated":{"line":1,"column":1342}},{"source":"src/js/firefox/getusermedia.js","name":"MediaStreamTrack","original":{"line":46,"column":32},"generated":{"line":1,"column":1344}},{"source":"src/js/firefox/getusermedia.js","name":"prototype","original":{"line":46,"column":49},"generated":{"line":1,"column":1346}},{"source":"src/js/firefox/getusermedia.js","name":"getSettings","original":{"line":46,"column":59},"generated":{"line":1,"column":1356}},{"source":"src/js/firefox/getusermedia.js","name":"MediaStreamTrack","original":{"line":47,"column":6},"generated":{"line":1,"column":1368}},{"source":"src/js/firefox/getusermedia.js","name":"prototype","original":{"line":47,"column":23},"generated":{"line":1,"column":1370}},{"source":"src/js/firefox/getusermedia.js","name":"getSettings","original":{"line":47,"column":33},"generated":{"line":1,"column":1380}},{"source":"src/js/firefox/getusermedia.js","original":{"line":47,"column":47},"generated":{"line":1,"column":1392}},{"source":"src/js/firefox/getusermedia.js","name":"obj","original":{"line":48,"column":14},"generated":{"line":1,"column":1403}},{"source":"src/js/firefox/getusermedia.js","name":"obj","original":{"line":48,"column":14},"generated":{"line":1,"column":1407}},{"source":"src/js/firefox/getusermedia.js","name":"nativeGetSettings","original":{"line":48,"column":20},"generated":{"line":1,"column":1409}},{"source":"src/js/firefox/getusermedia.js","name":"apply","original":{"line":48,"column":38},"generated":{"line":1,"column":1411}},{"source":"src/js/firefox/getusermedia.js","original":{"line":48,"column":44},"generated":{"line":1,"column":1417}},{"source":"src/js/firefox/getusermedia.js","name":"arguments","original":{"line":48,"column":50},"generated":{"line":1,"column":1422}},{"source":"src/js/firefox/getusermedia.js","name":"obj","original":{"line":51,"column":15},"generated":{"line":1,"column":1433}},{"source":"src/js/firefox/getusermedia.js","name":"remap","original":{"line":49,"column":8},"generated":{"line":1,"column":1440}},{"source":"src/js/firefox/getusermedia.js","name":"obj","original":{"line":49,"column":14},"generated":{"line":1,"column":1442}},{"source":"src/js/firefox/getusermedia.js","original":{"line":49,"column":19},"generated":{"line":1,"column":1444}},{"source":"src/js/firefox/getusermedia.js","original":{"line":49,"column":41},"generated":{"line":1,"column":1465}},{"source":"src/js/firefox/getusermedia.js","name":"remap","original":{"line":50,"column":8},"generated":{"line":1,"column":1484}},{"source":"src/js/firefox/getusermedia.js","name":"obj","original":{"line":50,"column":14},"generated":{"line":1,"column":1486}},{"source":"src/js/firefox/getusermedia.js","original":{"line":50,"column":19},"generated":{"line":1,"column":1488}},{"source":"src/js/firefox/getusermedia.js","original":{"line":50,"column":42},"generated":{"line":1,"column":1510}},{"source":"src/js/firefox/getusermedia.js","name":"obj","original":{"line":51,"column":15},"generated":{"line":1,"column":1530}},{"source":"src/js/firefox/getusermedia.js","name":"MediaStreamTrack","original":{"line":55,"column":8},"generated":{"line":1,"column":1533}},{"source":"src/js/firefox/getusermedia.js","name":"MediaStreamTrack","original":{"line":55,"column":8},"generated":{"line":1,"column":1536}},{"source":"src/js/firefox/getusermedia.js","name":"MediaStreamTrack","original":{"line":55,"column":28},"generated":{"line":1,"column":1539}},{"source":"src/js/firefox/getusermedia.js","name":"prototype","original":{"line":55,"column":45},"generated":{"line":1,"column":1541}},{"source":"src/js/firefox/getusermedia.js","name":"applyConstraints","original":{"line":55,"column":55},"generated":{"line":1,"column":1551}},{"source":"src/js/firefox/getusermedia.js","original":{"line":55,"column":73},"generated":{"line":1,"column":1568}},{"source":"src/js/firefox/getusermedia.js","name":"nativeApplyConstraints","original":{"line":56,"column":12},"generated":{"line":1,"column":1569}},{"source":"src/js/firefox/getusermedia.js","name":"nativeApplyConstraints","original":{"line":56,"column":12},"generated":{"line":1,"column":1573}},{"source":"src/js/firefox/getusermedia.js","name":"MediaStreamTrack","original":{"line":57,"column":8},"generated":{"line":1,"column":1575}},{"source":"src/js/firefox/getusermedia.js","name":"prototype","original":{"line":57,"column":25},"generated":{"line":1,"column":1577}},{"source":"src/js/firefox/getusermedia.js","name":"applyConstraints","original":{"line":57,"column":35},"generated":{"line":1,"column":1587}},{"source":"src/js/firefox/getusermedia.js","name":"MediaStreamTrack","original":{"line":58,"column":6},"generated":{"line":1,"column":1604}},{"source":"src/js/firefox/getusermedia.js","name":"prototype","original":{"line":58,"column":23},"generated":{"line":1,"column":1606}},{"source":"src/js/firefox/getusermedia.js","name":"applyConstraints","original":{"line":58,"column":33},"generated":{"line":1,"column":1616}},{"source":"src/js/firefox/getusermedia.js","original":{"line":58,"column":52},"generated":{"line":1,"column":1633}},{"source":"src/js/firefox/getusermedia.js","name":"c","original":{"line":58,"column":61},"generated":{"line":1,"column":1642}},{"source":"src/js/firefox/getusermedia.js","name":"nativeApplyConstraints","original":{"line":64,"column":15},"generated":{"line":1,"column":1645}},{"source":"src/js/firefox/getusermedia.js","original":{"line":59,"column":26},"generated":{"line":1,"column":1651}},{"source":"src/js/firefox/getusermedia.js","original":{"line":59,"column":12},"generated":{"line":1,"column":1661}},{"source":"src/js/firefox/getusermedia.js","name":"kind","original":{"line":59,"column":17},"generated":{"line":1,"column":1666}},{"source":"src/js/firefox/getusermedia.js","original":{"line":59,"column":50},"generated":{"line":1,"column":1672}},{"source":"src/js/firefox/getusermedia.js","original":{"line":59,"column":37},"generated":{"line":1,"column":1683}},{"source":"src/js/firefox/getusermedia.js","name":"c","original":{"line":59,"column":44},"generated":{"line":1,"column":1685}},{"source":"src/js/firefox/getusermedia.js","name":"c","original":{"line":60,"column":10},"generated":{"line":1,"column":1690}},{"source":"src/js/firefox/getusermedia.js","name":"JSON","original":{"line":60,"column":14},"generated":{"line":1,"column":1692}},{"source":"src/js/firefox/getusermedia.js","name":"parse","original":{"line":60,"column":19},"generated":{"line":1,"column":1697}},{"source":"src/js/firefox/getusermedia.js","name":"JSON","original":{"line":60,"column":25},"generated":{"line":1,"column":1703}},{"source":"src/js/firefox/getusermedia.js","name":"stringify","original":{"line":60,"column":30},"generated":{"line":1,"column":1708}},{"source":"src/js/firefox/getusermedia.js","name":"c","original":{"line":60,"column":40},"generated":{"line":1,"column":1718}},{"source":"src/js/firefox/getusermedia.js","name":"remap","original":{"line":61,"column":10},"generated":{"line":1,"column":1722}},{"source":"src/js/firefox/getusermedia.js","name":"c","original":{"line":61,"column":16},"generated":{"line":1,"column":1724}},{"source":"src/js/firefox/getusermedia.js","original":{"line":61,"column":19},"generated":{"line":1,"column":1726}},{"source":"src/js/firefox/getusermedia.js","original":{"line":61,"column":38},"generated":{"line":1,"column":1744}},{"source":"src/js/firefox/getusermedia.js","name":"remap","original":{"line":62,"column":10},"generated":{"line":1,"column":1766}},{"source":"src/js/firefox/getusermedia.js","name":"c","original":{"line":62,"column":16},"generated":{"line":1,"column":1768}},{"source":"src/js/firefox/getusermedia.js","original":{"line":62,"column":19},"generated":{"line":1,"column":1770}},{"source":"src/js/firefox/getusermedia.js","original":{"line":62,"column":39},"generated":{"line":1,"column":1789}},{"source":"src/js/firefox/getusermedia.js","name":"nativeApplyConstraints","original":{"line":64,"column":15},"generated":{"line":1,"column":1813}},{"source":"src/js/firefox/getusermedia.js","name":"apply","original":{"line":64,"column":38},"generated":{"line":1,"column":1815}},{"source":"src/js/firefox/getusermedia.js","original":{"line":64,"column":44},"generated":{"line":1,"column":1821}},{"source":"src/js/firefox/getusermedia.js","original":{"line":64,"column":50},"generated":{"line":1,"column":1826}},{"source":"src/js/firefox/getusermedia.js","name":"c","original":{"line":64,"column":51},"generated":{"line":1,"column":1827}}],"sources":{"src/js/firefox/getusermedia.js":"/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n/* eslint-env node */\n'use strict';\n\nimport * as utils from '../utils';\n\nexport function shimGetUserMedia(window) {\n  const browserDetails = utils.detectBrowser(window);\n  const navigator = window && window.navigator;\n  const MediaStreamTrack = window && window.MediaStreamTrack;\n\n  navigator.getUserMedia = function(constraints, onSuccess, onError) {\n    // Replace Firefox 44+'s deprecation warning with unprefixed version.\n    utils.deprecated('navigator.getUserMedia',\n        'navigator.mediaDevices.getUserMedia');\n    navigator.mediaDevices.getUserMedia(constraints).then(onSuccess, onError);\n  };\n\n  if (!(browserDetails.version > 55 &&\n      'autoGainControl' in navigator.mediaDevices.getSupportedConstraints())) {\n    const remap = function(obj, a, b) {\n      if (a in obj && !(b in obj)) {\n        obj[b] = obj[a];\n        delete obj[a];\n      }\n    };\n\n    const nativeGetUserMedia = navigator.mediaDevices.getUserMedia.\n        bind(navigator.mediaDevices);\n    navigator.mediaDevices.getUserMedia = function(c) {\n      if (typeof c === 'object' && typeof c.audio === 'object') {\n        c = JSON.parse(JSON.stringify(c));\n        remap(c.audio, 'autoGainControl', 'mozAutoGainControl');\n        remap(c.audio, 'noiseSuppression', 'mozNoiseSuppression');\n      }\n      return nativeGetUserMedia(c);\n    };\n\n    if (MediaStreamTrack && MediaStreamTrack.prototype.getSettings) {\n      const nativeGetSettings = MediaStreamTrack.prototype.getSettings;\n      MediaStreamTrack.prototype.getSettings = function() {\n        const obj = nativeGetSettings.apply(this, arguments);\n        remap(obj, 'mozAutoGainControl', 'autoGainControl');\n        remap(obj, 'mozNoiseSuppression', 'noiseSuppression');\n        return obj;\n      };\n    }\n\n    if (MediaStreamTrack && MediaStreamTrack.prototype.applyConstraints) {\n      const nativeApplyConstraints =\n        MediaStreamTrack.prototype.applyConstraints;\n      MediaStreamTrack.prototype.applyConstraints = function(c) {\n        if (this.kind === 'audio' && typeof c === 'object') {\n          c = JSON.parse(JSON.stringify(c));\n          remap(c, 'autoGainControl', 'mozAutoGainControl');\n          remap(c, 'noiseSuppression', 'mozNoiseSuppression');\n        }\n        return nativeApplyConstraints.apply(this, [c]);\n      };\n    }\n  }\n}\n"},"lineCount":null}},"hash":"9e2d627bbebedf26c6e3dafe23674661","cacheData":{"env":{}}}